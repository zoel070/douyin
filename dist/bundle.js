/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var __webpack_modules__={"./src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _index_less__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.less */ \"./src/index.less\");\n\nvar PAGE = {\n  data: {\n    duration: 300,\n    itemHeight: 0,\n    translateY: 0,\n    //每一次记录，必须有\n    index: 0,\n    islock: false,\n    len: 5,\n    startY: 0,\n    endY: 0,\n    distance: 0\n  },\n  init: function init() {\n    this.bind();\n    this.goIndex(0);\n  },\n  bind: function bind() {\n    window.addEventListener('resize', this.resizeRem.bind(this));\n    window.addEventListener('pageshow', this.resizeRem.bind(this));\n    var banner = document.querySelector('.swiper-banner');\n    banner.addEventListener('touchstart', this.touchStart.bind(this));\n    banner.addEventListener('touchmove', this.touchMove.bind(this));\n    banner.addEventListener('touchend', this.touchEnd.bind(this));\n  },\n  resizeRem: function resizeRem() {\n    var docElement = document.documentElement;\n    var width = docElement.getBoundingClientRect().width;\n    var rem = width / 7.5;\n    docElement.style.fontSize = rem + 'px';\n    PAGE.data.itemHeight = parseInt(getComputedStyle(document.querySelector('.swiper-item')).height);\n    this.goIndex(PAGE.data.index);\n  },\n  touchStart: function touchStart(e) {\n    this.data.startY = e.touches[0].clientY;\n  },\n  touchMove: function touchMove(e) {\n    this.data.endY = e.touches[0].clientY;\n    PAGE.data.distance = this.data.endY - this.data.startY; //往上拖+1，distance是负的\n  },\n\n  touchEnd: function touchEnd(e) {\n    var distance = PAGE.data.distance;\n    var index = PAGE.data.index;\n    if (distance < 0 && index < 4) {\n      PAGE.goIndex(index + 1);\n      PAGE.data.islock = true;\n    }\n    if (distance > 0 && index > 0) {\n      PAGE.goIndex(index - 1);\n      PAGE.data.islock = true;\n    }\n  },\n  goIndex: function goIndex(index) {\n    if (PAGE.data.islock == true) {\n      return;\n    }\n    console.log(index, 88);\n    var swiperDuration = PAGE.data.duration;\n    var swiperitemHeight = PAGE.data.itemHeight;\n    var beginTranslateY = PAGE.data.translateY;\n    var endTranslateY = -(swiperitemHeight * index);\n    var banner = document.querySelector('.swiper-banner');\n    PAGE.animateTo(beginTranslateY, endTranslateY, swiperDuration, function (value) {\n      banner.style.transform = \"translateY(\".concat(value, \"px)\");\n    }, function (value) {\n      banner.style.transform = \"translateY(\".concat(value, \"px)\");\n      PAGE.data.index = index;\n      PAGE.data.translateY = value;\n      PAGE.data.islock = false;\n      console.log(index, 999);\n    });\n  },\n  animateTo: function animateTo(begin, end, duration, changeCallback, finishCallback) {\n    var startTime = Date.now();\n    requestAnimationFrame(function update() {\n      var dataNow = Date.now();\n      var time = dataNow - startTime;\n      var value = PAGE.linear(time, begin, end, duration);\n      typeof changeCallback === 'function' && changeCallback(value);\n      if (startTime + duration > dataNow) {\n        requestAnimationFrame(update);\n      } else {\n        typeof finishCallback === 'function' && finishCallback(end);\n      }\n    });\n  },\n  linear: function linear(time, begin, end, duration) {\n    return (end - begin) * time / duration + begin;\n  }\n};\nPAGE.init();\n\n//# sourceURL=webpack://02-douyin/./src/index.js?")},"./src/index.less":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://02-douyin/./src/index.less?")}},__webpack_module_cache__={};function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/index.js")})();